var msRestAzure=function(e){function t(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,s){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s={LongRunningOperationStates:{InProgress:"InProgress",Succeeded:"Succeeded",Failed:"Failed",Canceled:"Canceled"},DEFAULT_LANGUAGE:"en-us",msRestAzureVersion:"3.0.0"};t.default=s},function(e,t){e.exports=msRest},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(3);t.AzureServiceClient=s.AzureServiceClient;const o=r(0);t.Constants=o.default;const n=r(5);t.CloudErrorMapper=n.CloudErrorMapper;const i=r(6);t.BaseResourceMapper=i.BaseResourceMapper},function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(o,n){function i(e){try{a(s.next(e))}catch(e){n(e)}}function u(e){try{a(s.throw(e))}catch(e){n(e)}}function a(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,u)}a((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=r(1),n=r(0),i=r(4),u=n.default.LongRunningOperationStates;class a extends o.ServiceClient{constructor(e,t){super(e,t),this.acceptLanguage=n.default.DEFAULT_LANGUAGE,this.generateClientRequestId=!0,this.longRunningOperationRetryTimeout=30,this.rpRegistrationRetryTimeout=30,this.acceptLanguage=n.default.DEFAULT_LANGUAGE,this.generateClientRequestId=!0,this.longRunningOperationRetryTimeout=30,t||(t={}),null!==t.acceptLanguage&&void 0!==t.acceptLanguage&&(this.acceptLanguage=t.acceptLanguage),null!==t.generateClientRequestId&&void 0!==t.generateClientRequestId&&(this.generateClientRequestId=t.generateClientRequestId),null!==t.longRunningOperationRetryTimeout&&void 0!==t.longRunningOperationRetryTimeout&&(this.longRunningOperationRetryTimeout=t.longRunningOperationRetryTimeout),null!==t.rpRegistrationRetryTimeout&&void 0!==t.rpRegistrationRetryTimeout&&(this.rpRegistrationRetryTimeout=t.rpRegistrationRetryTimeout);try{const e=n.default.msRestAzureVersion;this.addUserAgentInfo(`ms-rest-azure/${e}`)}catch(e){}}sendLongRunningRequest(e,t){return s(this,void 0,void 0,function*(){let r,s=this;try{r=yield s.sendRequest(e)}catch(e){return Promise.reject(e)}let o;try{o=yield s.getLongRunningOperationResult(r,t)}catch(e){return Promise.reject(e)}return Promise.resolve(o)})}checkResponseStatusCodeFailed(e){let t=e.response.status,r=e.request.method;return 200!==t&&202!==t&&(201!==t||"PUT"!==r)&&(204!==t||"DELETE"!==r&&"POST"!==r)}getLongRunningOperationResult(e,t){return s(this,void 0,void 0,function*(){let r=this,s=e.request.method;if(r.checkResponseStatusCodeFailed(e))return Promise.reject(`Unexpected polling status code from long running operation `+`"${e.response.status}" for method "${s}".`);let n;try{(n=new i.default(e,r.longRunningOperationRetryTimeout)).optionsOfInitialRequest=t}catch(e){return Promise.reject(e)}let a=e.request.url;for(;![u.Succeeded,u.Failed,u.Canceled].some(e=>e===n.status);)if(yield o.delay(n.getTimeout()),n.azureAsyncOperationHeaderLink)yield r.updateStateFromAzureAsyncOperationHeader(n,!0);else if(n.locationHeaderLink)yield r.updateStateFromLocationHeader(s,n);else{if("PUT"!==s)return Promise.reject(new Error("Location header is missing from long running operation."));yield r.updateStateFromGetResourceOperation(a,n)}return n.status===u.Succeeded?!n.azureAsyncOperationHeaderLink&&n.resource||"PUT"!==s&&"PATCH"!==s?Promise.resolve(n.getOperationResponse()):(yield r.updateStateFromGetResourceOperation(a,n),Promise.resolve(n.getOperationResponse())):Promise.reject(n.getRestError())})}updateStateFromAzureAsyncOperationHeader(e,t=!1){return s(this,void 0,void 0,function*(){let r;try{r=yield this.getStatus(e.azureAsyncOperationHeaderLink,e.optionsOfInitialRequest)}catch(e){return Promise.reject(e)}let s=r.bodyAsJson;return s?s&&!s.status?Promise.reject(new Error(`The response "${r.bodyAsText}" from long running operation does not contain the status property.`)):(e.status=s.status,e.error=s.error,e.updateResponse(r.response),e.request=r.request,e.resource=null,t&&(e.resource=r.bodyAsJson),Promise.resolve()):Promise.reject(new Error("The response from long running operation does not contain a body."))})}updateStateFromLocationHeader(e,t){return s(this,void 0,void 0,function*(){let r;try{r=yield this.getStatus(t.locationHeaderLink,t.optionsOfInitialRequest)}catch(e){return Promise.reject(e)}let s=r.bodyAsJson;t.updateResponse(r.response),t.request=r.request;let n=r.response.status;if(202===n)t.status=u.InProgress;else{if(200!==n&&(201!==n||"PUT"!==e&&"PATCH"!==e)&&(204!==n||"DELETE"!==e&&"POST"!==e))return Promise.reject(new Error(`The response with status code ${n} from polling for `+`long running operation url "${t.locationHeaderLink}" is not valid.`));t.status=u.Succeeded,t.resource=s,t.error=new o.RestError(`Long running operation failed with status "${t.status}".`),t.error.code=t.status}})}updateStateFromGetResourceOperation(e,t){return s(this,void 0,void 0,function*(){let r;try{r=yield this.getStatus(e,t.optionsOfInitialRequest)}catch(e){return Promise.reject(e)}if(!r.bodyAsJson)return Promise.reject(new Error("The response from long running operation does not contain a body."));let s=r.bodyAsJson;return t.status=u.Succeeded,s&&s.properties&&s.properties.provisioningState&&(t.status=s.properties.provisioningState),t.updateResponse(r.response),t.request=r.request,t.resource=s,t.error=new o.RestError(`Long running operation failed with status "${t.status}".`),t.error.code=t.status,Promise.resolve()})}getStatus(e,t){return s(this,void 0,void 0,function*(){let r=this,s={method:"GET",url:e.replace(" ","%20"),headers:{}};if(t){let e=t.customHeaders;for(let t in e)e.hasOwnProperty(t)&&(s.headers[t]=e[t])}let n;try{n=yield r.sendRequest(s)}catch(e){return Promise.reject(e)}let i=n.response.status,u=n.bodyAsJson;if(200!==i&&201!==i&&202!==i&&204!==i){let e=new o.RestError(`Invalid status code with response body "${n.bodyAsText}" occurred `+`when polling for operation status.`);e.statusCode=i,e.request=o.stripRequest(n.request),e.response=n.response;try{e.body=u}catch(t){e.message+=` Error "${t}" occured while deserializing the response body - "${n.bodyAsText}".`,e.body=n.bodyAsText}return Promise.reject(e)}return Promise.resolve(n)})}}t.AzureServiceClient=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),o=r(1),n=s.default.LongRunningOperationStates;class i{constructor(e,t=30){this.retryTimeout=30,this.resultOfInitialRequest=e,this.retryTimeout=t,this.updateResponse(e.response),this.request=e.request;try{e.bodyAsText&&e.bodyAsText.length>0?this.resource=JSON.parse(e.bodyAsText):this.resource=e.bodyAsJson}catch(t){let r=new o.RestError(`Error "${t}" occurred in parsing the responseBody ' +\n        'while creating the PollingState for Long Running Operation- "${e.bodyAsText}"`);throw r.request=e.request,r.response=e.response,r}switch(this.response.status){case 202:this.status=n.InProgress;break;case 204:this.status=n.Succeeded;break;case 201:this.resource&&this.resource.properties&&this.resource.properties.provisioningState?this.status=this.resource.properties.provisioningState:this.status=n.InProgress;break;case 200:this.resource&&this.resource.properties&&this.resource.properties.provisioningState?this.status=this.resource.properties.provisioningState:this.status=n.Succeeded;break;default:this.status=n.Failed}}updateResponse(e){if(this.response=e,e&&e.headers){let t=e.headers.get("azure-asyncoperation"),r=e.headers.get("location");t&&(this.azureAsyncOperationHeaderLink=t),r&&(this.locationHeaderLink=r)}}getTimeout(){if(this.retryTimeout||0===this.retryTimeout)return 1e3*this.retryTimeout;if(this.response){let e=this.response.headers.get("retry-after");if(e)return 1e3*parseInt(e)}return 3e4}getOperationResponse(){let e=new o.HttpOperationResponse(this.request,this.response,this.response.body);return this.resource&&"string"==typeof this.resource.valueOf()?(e.bodyAsText=this.resource,e.bodyAsJson=JSON.parse(this.resource)):(e.bodyAsJson=this.resource,e.bodyAsText=JSON.stringify(this.resource)),e}getRestError(e){let t,r=null,s=new o.RestError("");s.request=o.stripRequest(this.request),s.response=this.response;let n=this.resource;return t=e&&e.message?`Long running operation failed with error: "${e.message}".`:`Long running operation failed with status: "${this.status}".`,n&&(n.error&&n.error.message&&(t=`Long running operation failed with error: "${n.error.message}".`),n.error&&n.error.code&&(r=n.error.code)),s.message=t,r&&(s.code=r),s.body=n,s}}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloudErrorMapper={required:!1,serializedName:"CloudError",type:{name:"Composite",className:"CloudError",modelProperties:{code:{required:!0,serializedName:"code",type:{name:"String"}},message:{required:!0,serializedName:"message",type:{name:"String"}},target:{required:!1,serializedName:"target",type:{name:"String"}},details:{required:!1,serializedName:"details",type:{name:"Sequence",element:{required:!1,serializedName:"CloudErrorElementType",type:{name:"Composite",className:"CloudError"}}}}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseResourceMapper={required:!1,serializedName:"BaseResource",type:{name:"Composite",className:"BaseResource",modelProperties:{}}}}]);